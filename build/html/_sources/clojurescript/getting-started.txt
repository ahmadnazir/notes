Emacs setup
===========


Emacs uses `CIDER` to work with clojure. There are quirks that I am getting used to but the following is good enough to get started. CIDER comes packaged with the spacemacs clojure layer.


Build tool
----------

I have been using `lein` for clojure but I couldn't make hot reloading and form evaluation within the editory work at the same time. `clj` tools seem to work better.

.. code:: bash

   curl -O https://download.clojure.org/install/linux-install-1.10.1.483.sh
   chmod +x linux-install-1.10.1.483.sh
   sudo ./linux-install-1.10.1.483.sh

Reference: https://clojure.org/guides/getting_started#_installation_on_linux

Create a new project
--------------------

.. code:: bash

   clj -A:new figwheel-main app.core -- --reagent


Create and connect to a repl
----------------------------

Create a `.dir-locals.el` file in the root of the project:

.. code::

   ((clojurescript-mode . ((cider-default-cljs-repl . figwheel-main)
                           (cider-clojure-cli-global-options . "-A:fig")
                           )))

Create a repl and connect to it:

.. code::

   (cider-jack-in-cljs)
